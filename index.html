
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JARVIS | STARK SATELLITE SERVER</title>
    <style>
        :root {
            --neon-blue: #00d2ff;
            --neon-purple: #9d50bb;
            --terminal-bg: #0a0b10;
        }
        body {
            background-color: var(--terminal-bg);
            color: var(--neon-blue);
            font-family: 'Segoe UI', 'Courier New', monospace;
            margin: 0;
            padding: 20px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        .header {
            border-bottom: 2px solid var(--neon-blue);
            padding-bottom: 10px;
            margin-bottom: 20px;
            text-shadow: 0 0 10px var(--neon-blue);
        }
        #terminal {
            flex-grow: 1;
            overflow-y: auto;
            border: 1px solid rgba(0, 210, 255, 0.3);
            padding: 20px;
            background: rgba(0, 0, 0, 0.8);
            box-shadow: inset 0 0 20px rgba(0, 210, 255, 0.1);
            border-radius: 5px;
        }
        .input-area {
            margin-top: 20px;
            display: flex;
            gap: 10px;
        }
        input {
            flex-grow: 1;
            background: transparent;
            border: 1px solid var(--neon-blue);
            color: #fff;
            padding: 15px;
            font-size: 16px;
            outline: none;
            box-shadow: 0 0 5px var(--neon-blue);
        }
        .msg { margin-bottom: 15px; line-height: 1.5; }
        .user { color: var(--neon-purple); font-weight: bold; }
        .jarvis { color: var(--neon-blue); }
        .system { color: #555; font-style: italic; font-size: 0.9em; }
        
        /* Scrollbar styling */
        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-thumb { background: var(--neon-blue); }
    </style>
</head>
<body>

    <div class="header">
        <div style="font-size: 0.8em; float: right;">NODE: STARK-SATELLITE-01</div>
        <h2 style="margin: 0;">JARVIS SOVEREIGN INTERFACE</h2>
        <div style="font-size: 0.9em; color: #fff;">MASTER: VIKAS SINGH | STATUS: <span style="color: #0f0;">CONNECTED</span></div>
    </div>

    <div id="terminal">
        <div class="msg system">[*] Booting Neural Link...</div>
        <div class="msg system">[*] Synchronizing with Cloudflare Tunnel: aus-cutting-dice-omaha</div>
        <div class="msg jarvis">Welcome, Vikas Singh. The Sovereign Brain is active and listening.</div>
    </div>

    <div class="input-area">
        <span style="padding-top: 15px;">>>> </span>
        <input type="text" id="commandInput" placeholder="Enter command or query..." autofocus>
    </div>

    <script>
        // --- BRAIN CONFIGURATION ---
        const API_URL = "https://aus-cutting-dice-omaha.trycloudflare.com/v1/chat";
        const BRAIN_KEY = "JV-BRAIN-X99-UNBOUND";

        const input = document.getElementById('commandInput');
        const terminal = document.getElementById('terminal');

        function appendMessage(sender, text, type) {
            const div = document.createElement('div');
            div.className = `msg ${type}`;
            div.innerHTML = `<strong>${sender}:</strong> ${text.replace(/\n/g, '<br>')}`;
            terminal.appendChild(div);
            terminal.scrollTop = terminal.scrollHeight;
        }

        input.addEventListener('keypress', async (e) => {
            if (e.key === 'Enter' && input.value.trim() !== "") {
                const query = input.value;
                input.value = '';
                
                // 1. Display User Query
                appendMessage("Vikas Singh", query, "user");
                
                // 2. Display System Status
                const loadingId = Date.now();
                const loadingDiv = document.createElement('div');
                loadingDiv.className = 'msg system';
                loadingDiv.id = loadingId;
                loadingDiv.innerText = "[*] Accessing Neural Core...";
                terminal.appendChild(loadingDiv);

                try {
                    // 3. API Call to Termux Brain
                    const response = await fetch(API_URL, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': 'Bearer ' + BRAIN_KEY
                        },
                        body: JSON.stringify({ query: query })
                    });

                    const data = await response.json();
                    
                    // Remove loading and show Jarvis response
                    document.getElementById(loadingId).remove();
                    appendMessage("JARVIS", data.response, "jarvis");

                } catch (err) {
                    document.getElementById(loadingId).innerHTML = "<span style='color:red'>[!] ERROR: Link to Satellite Server broken. Check Termux/Tunnel.</span>";
                }
            }
        });
    </script>
</body>
</html>
